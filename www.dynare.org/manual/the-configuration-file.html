
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>5. The configuration file &#8212; Dynare 6.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="6. Time Series" href="time-series.html" />
    <link rel="prev" title="4. The model file" href="the-model-file.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/dlogo.svg" alt="Logo" width=143/>
    
  </a>
</p>









<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><br style="line-height:16px">
<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation-and-configuration.html">2. Installation and configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-dynare.html">3. Running Dynare</a></li>
<li class="toctree-l1"><a class="reference internal" href="the-model-file.html">4. The model file</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">5. The configuration file</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dynare-configuration">5.1. Dynare Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#parallel-configuration">5.2. Parallel Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#windows-step-by-step-guide">5.3. Windows Step-by-Step Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="time-series.html">6. Time Series</a></li>
<li class="toctree-l1"><a class="reference internal" href="reporting.html">7. Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">8. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynare-misc-commands.html">9. Dynare misc commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">10. Bibliography</a></li>
</ul>


<hr />
<ul>
    <li class="toctree-l1"><a href="genindex.html">Index</a></li>
</ul>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="the-configuration-file">
<span id="conf-file"></span><h1><span class="section-number">5. </span>The configuration file<a class="headerlink" href="#the-configuration-file" title="Permalink to this heading">¶</a></h1>
<p>The configuration file is used to provide Dynare with information not
related to the model (and hence not placed in the model file). At the
moment, it is only used when using Dynare to run parallel
computations.</p>
<p>On Linux and macOS, the configuration file is searched by default under
<code class="docutils literal notranslate"><span class="pre">dynare/dynare.ini</span></code> in the configuration directories defined by the XDG
specification (typically <code class="docutils literal notranslate"><span class="pre">$HOME/.config/dynare/dynare.ini</span></code> for the
user-specific configuration and <code class="docutils literal notranslate"><span class="pre">/etc/xdg/dynare/dynare.ini</span></code> for the
system-wide configuration, the former having precedence over the latter). Under
Windows, the configuration file is searched by default in
<code class="docutils literal notranslate"><span class="pre">%APPDATA%\dynare\dynare.ini</span></code> (typically
<code class="docutils literal notranslate"><span class="pre">c:\Users\USERNAME\AppData\Roaming\dynare\dynare.ini</span></code>). You can specify a non
standard location using the <code class="docutils literal notranslate"><span class="pre">conffile</span></code> option of the <code class="docutils literal notranslate"><span class="pre">dynare</span></code> command (see
<a class="reference internal" href="running-dynare.html#dyn-invoc"><span class="std std-ref">Dynare invocation</span></a>).</p>
<p>The parsing of the configuration file is case-sensitive and it should
take the following form, with each option/choice pair placed on a
newline:</p>
<div class="highlight-dynare notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">command</span><span class="mi">0</span><span class="p">]</span>
<span class="n">option</span><span class="mi">0 </span><span class="p">= </span><span class="n">choice</span><span class="mi">0</span>
<span class="n">option</span><span class="mi">1 </span><span class="p">= </span><span class="n">choice</span><span class="mi">1</span>

<span class="p">[</span><span class="n">command</span><span class="mi">1</span><span class="p">]</span>
<span class="n">option</span><span class="mi">0 </span><span class="p">= </span><span class="n">choice</span><span class="mi">0</span>
<span class="n">option</span><span class="mi">1 </span><span class="p">= </span><span class="n">choice</span><span class="mi">1</span>
</pre></div>
</div>
<p>The configuration file follows a few conventions (self-explanatory
conventions such as <code class="docutils literal notranslate"><span class="pre">USER_NAME</span></code> have been excluded for concision):</p>
<p><code class="docutils literal notranslate"><span class="pre">COMPUTER_NAME</span></code></p>
<blockquote>
<div><p>Indicates the valid name of a server (e.g. <code class="docutils literal notranslate"><span class="pre">localhost</span></code>,
<code class="docutils literal notranslate"><span class="pre">server.cepremap.org</span></code>) or an IP address.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">DRIVE_NAME</span></code></p>
<blockquote>
<div><p>Indicates a valid drive name in Windows, without the trailing
colon (e.g. <code class="docutils literal notranslate"><span class="pre">C</span></code>).</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PATH</span></code></p>
<blockquote>
<div><p>Indicates a valid path in the underlying operating system
(e.g. <code class="docutils literal notranslate"><span class="pre">/home/user/dynare/matlab/</span></code>).</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">PATH_AND_FILE</span></code></p>
<blockquote>
<div><p>Indicates a valid path to a file in the underlying operating
system (e.g. <code class="docutils literal notranslate"><span class="pre">/usr/local/MATLAB/R2023b/bin/matlab</span></code>).</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p>
<blockquote>
<div><p>Is <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</div></blockquote>
<section id="dynare-configuration">
<h2><span class="section-number">5.1. </span>Dynare Configuration<a class="headerlink" href="#dynare-configuration" title="Permalink to this heading">¶</a></h2>
<p>This section explains how to configure Dynare for general
processing. Currently, there is only one option available.</p>
<dl class="dynare confblock">
<dt class="sig sig-object dynare" id="[hooks]">
<em class="property"><span class="pre">Configuration</span> <span class="pre">block:</span> </em><span class="sig-name descname"><span class="pre">[hooks]</span></span><a class="headerlink" href="#[hooks]" title="Permalink to this definition">¶</a></dt>
<dd><p><br> This block can be used to specify configuration options that will
be used when running Dynare.</p>
<p><em>Options</em></p>
<dl class="dynare option">
<dt class="sig sig-object dynare" id="GlobalInitFile = PATH_AND_FILE">
<span class="sig-name descname"><span class="pre">GlobalInitFile</span> <span class="pre">=</span> <span class="pre">PATH_AND_FILE</span></span><a class="headerlink" href="#GlobalInitFile = PATH_AND_FILE" title="Permalink to this definition">¶</a></dt>
<dd><p>The location of a global initialization file that can be used to
customize some Dynare internals (typically default option values). This
is a MATLAB/Octave script.</p>
<p>If this option is not specified, Dynare will look for a
<code class="docutils literal notranslate"><span class="pre">global_init.m</span></code> file in its configuration directory (typically
<code class="docutils literal notranslate"><span class="pre">$HOME/.config/dynare/global_init.m</span></code> under Linux and macOS, and
<code class="docutils literal notranslate"><span class="pre">c:\Users\USERNAME\AppData\Roaming\dynare\global_init.m</span></code> under
Windows).</p>
</dd></dl>

<p><em>Example</em></p>
<blockquote>
<div><div class="highlight-dynare notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="kr">hooks</span><span class="p">]</span>
<span class="n">GlobalInitFile </span><span class="p">= </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">usern</span><span class="o">/</span><span class="ni">dynare</span><span class="o">/</span><span class="n">myInitFile</span><span class="p">.</span><span class="n">m</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="dynare confblock">
<dt class="sig sig-object dynare" id="[paths]">
<em class="property"><span class="pre">Configuration</span> <span class="pre">block:</span> </em><span class="sig-name descname"><span class="pre">[paths]</span></span><a class="headerlink" href="#[paths]" title="Permalink to this definition">¶</a></dt>
<dd><p><br> This block can be used to specify paths that will be used
when running dynare.</p>
<p><em>Options</em></p>
<dl class="dynare option">
<dt class="sig sig-object dynare" id="Include = PATH">
<span class="sig-name descname"><span class="pre">Include</span> <span class="pre">=</span> <span class="pre">PATH</span></span><a class="headerlink" href="#Include = PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>A colon-separated path to use when searching for files to
include via <code class="docutils literal notranslate"><span class="pre">&#64;#include</span></code>. Paths specified via <a class="reference internal" href="running-dynare.html#-I&lt;&lt;path&gt;&gt;" title="-I&lt;&lt;path&gt;&gt;"><code class="xref dynare dynare-opt docutils literal notranslate"><span class="pre">-I</span></code></a> take priority over paths specified here,
while these paths take priority over those specified by
<code class="docutils literal notranslate"><span class="pre">&#64;#includepath</span></code>.</p>
</dd></dl>

<p><em>Example</em></p>
<blockquote>
<div><div class="highlight-dynare notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="kr">paths</span><span class="p">]</span>
<span class="n">Include </span><span class="p">= </span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">folder</span><span class="o">/</span><span class="n">containing</span><span class="o">/</span><span class="n">modfiles</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">another</span><span class="o">/</span><span class="n">folder</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

</section>
<section id="parallel-configuration">
<span id="paral-conf"></span><h2><span class="section-number">5.2. </span>Parallel Configuration<a class="headerlink" href="#parallel-configuration" title="Permalink to this heading">¶</a></h2>
<p>This section explains how to configure Dynare for parallelizing some
tasks which require very little inter-process communication.</p>
<p>The parallelization is done by running several MATLAB or Octave
processes, either on local or on remote machines. Communication
between leader and follower processes are done through SMB on Windows and
SSH on UNIX. Input and output data, and also some short status
messages, are exchanged through network filesystems. Currently the
system works only with homogenous grids: only Windows or only Unix
machines.</p>
<p>The following routines are currently parallelized:</p>
<blockquote>
<div><ul class="simple">
<li><p>the posterior sampling algorithms when using multiple chains;</p></li>
<li><p>the Metropolis-Hastings diagnostics;</p></li>
<li><p>the posterior IRFs;</p></li>
<li><p>the prior and posterior statistics;</p></li>
<li><p>some plotting routines.</p></li>
</ul>
</div></blockquote>
<p>Note that creating the configuration file is not enough in order to
trigger parallelization of the computations: you also need to specify
the <code class="docutils literal notranslate"><span class="pre">parallel</span></code> option to the <code class="docutils literal notranslate"><span class="pre">dynare</span></code> command. For more details,
and for other options related to the parallelization engine, see
<a class="reference internal" href="running-dynare.html#dyn-invoc"><span class="std std-ref">Dynare invocation</span></a>.</p>
<p>You also need to verify that the following requirements are met by
your cluster (which is composed of a leader and of one or more
followers):</p>
<p>For a Windows grid:</p>
<blockquote>
<div><ul class="simple">
<li><p>a standard Windows network (SMB) must be in place;</p></li>
<li><p>the <a class="reference external" href="https://technet.microsoft.com/sysinternals/pstools.aspx">PsTools</a> suite must be installed in the path of the
leader Windows machine;</p></li>
<li><p>the Windows user on the leader machine has to be user of any
other follower machine in the cluster, and that user will be
used for the remote computations.</p></li>
<li><p>detailed step-by-step setup instructions can be found in
<a class="reference internal" href="#win-ssg"><span class="std std-ref">Windows Step-by-Step Guide</span></a>.</p></li>
</ul>
</div></blockquote>
<p>For a UNIX grid:</p>
<blockquote>
<div><ul class="simple">
<li><p>SSH must be installed on the leader and on the follower machines;</p></li>
<li><p>SSH keys must be installed so that the SSH connection from
the leader to the follower can be done without passwords, or
using an SSH agent.</p></li>
</ul>
</div></blockquote>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Compatibility considerations between leader and follower</p>
<p>It is highly recommended to use the same version of Dynare on both the
leader and all followers. Different versions regularly cause problems like
zero acceptance rates during estimation. When upgrading to a newer Dynare
version do not forget to adjust the <code class="docutils literal notranslate"><span class="pre">DynarePath</span></code>.</p>
</div>
<p>We now turn to the description of the configuration directives. Note
that comments in the configuration file can be provided by separate
lines starting with a hashtag (#).</p>
<dl class="dynare confblock">
<dt class="sig sig-object dynare" id="[cluster]">
<em class="property"><span class="pre">Configuration</span> <span class="pre">block:</span> </em><span class="sig-name descname"><span class="pre">[cluster]</span></span><a class="headerlink" href="#[cluster]" title="Permalink to this definition">¶</a></dt>
<dd><p><br> When working in parallel, <code class="docutils literal notranslate"><span class="pre">[cluster]</span></code> is required to specify the
group of computers that will be used. It is required even if you
are only invoking multiple processes on one computer.</p>
<p><em>Options</em></p>
<dl class="dynare option">
<dt class="sig sig-object dynare" id="Name = CLUSTER_NAME">
<span class="sig-name descname"><span class="pre">Name</span> <span class="pre">=</span> <span class="pre">CLUSTER_NAME</span></span><a class="headerlink" href="#Name = CLUSTER_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The reference name of this cluster.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="Members = NODE_NAME[(WEIGHT)] NODE_NAME[(WEIGHT)] ...">
<span class="sig-name descname"><span class="pre">Members</span> <span class="pre">=</span> <span class="pre">NODE_NAME[(WEIGHT)]</span> <span class="pre">NODE_NAME[(WEIGHT)]</span> <span class="pre">...</span></span><a class="headerlink" href="#Members = NODE_NAME[(WEIGHT)] NODE_NAME[(WEIGHT)] ..." title="Permalink to this definition">¶</a></dt>
<dd><p>A list of nodes that comprise the cluster with an optional
computing weight specified for that node. The computing weight
indicates how much more powerful one node is with respect to
the others (e.g. <code class="docutils literal notranslate"><span class="pre">n1(2)</span> <span class="pre">n2(1)</span> <span class="pre">n3(3)</span></code> means that <code class="docutils literal notranslate"><span class="pre">n1</span></code> is
two times more powerful than <code class="docutils literal notranslate"><span class="pre">n2</span></code> whereas <code class="docutils literal notranslate"><span class="pre">n3</span></code> is three
times more powerful than <code class="docutils literal notranslate"><span class="pre">n2</span></code>). Each node is separated by at
least one space and the weights are in parenthesis with no
spaces separating them from their node.</p>
</dd></dl>

<p><em>Example</em></p>
<blockquote>
<div><div class="highlight-dynare notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="kr">cluster</span><span class="p">]</span>
<span class="n">Name </span><span class="p">= </span><span class="n">c</span><span class="mi">1</span>
<span class="n">Members </span><span class="p">= </span><span class="n">n</span><span class="mi">1 </span><span class="n">n</span><span class="mi">2 </span><span class="n">n</span><span class="mi">3</span>

<span class="p">[</span><span class="kr">cluster</span><span class="p">]</span>
<span class="n">Name </span><span class="p">= </span><span class="n">c</span><span class="mi">2</span>
<span class="n">Members </span><span class="p">= </span><span class="n">n</span><span class="mi">1</span><span class="p">(</span><span class="mi">4</span><span class="p">) </span><span class="n">n</span><span class="mi">2 </span><span class="n">n</span><span class="mi">3</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

<dl class="dynare confblock">
<dt class="sig sig-object dynare" id="[node]">
<em class="property"><span class="pre">Configuration</span> <span class="pre">block:</span> </em><span class="sig-name descname"><span class="pre">[node]</span></span><a class="headerlink" href="#[node]" title="Permalink to this definition">¶</a></dt>
<dd><p><br> When working in parallel, <code class="docutils literal notranslate"><span class="pre">[node]</span></code> is required for every
computer that will be used. The options that are required differ,
depending on the underlying operating system and whether you are
working locally or remotely.</p>
<p><em>Options</em></p>
<dl class="dynare option">
<dt class="sig sig-object dynare" id="Name = NODE_NAME">
<span class="sig-name descname"><span class="pre">Name</span> <span class="pre">=</span> <span class="pre">NODE_NAME</span></span><a class="headerlink" href="#Name = NODE_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The reference name of this node.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="CPUnbr = INTEGER | [INTEGER:INTEGER]">
<span class="sig-name descname"><span class="pre">CPUnbr</span> <span class="pre">=</span> <span class="pre">INTEGER</span> <span class="pre">|</span> <span class="pre">[INTEGER:INTEGER]</span></span><a class="headerlink" href="#CPUnbr = INTEGER | [INTEGER:INTEGER]" title="Permalink to this definition">¶</a></dt>
<dd><p>If just one integer is passed, the number of processors to
use. If a range of integers is passed, the specific processors
to use (processor counting is defined to begin at one as
opposed to zero). Note that using specific processors is only
possible under Windows; under Linux and macOS, if a range is
passed the same number of processors will be used but the
range will be adjusted to begin at one.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="ComputerName = COMPUTER_NAME">
<span class="sig-name descname"><span class="pre">ComputerName</span> <span class="pre">=</span> <span class="pre">COMPUTER_NAME</span></span><a class="headerlink" href="#ComputerName = COMPUTER_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The name or IP address of the node. If you want to run
locally, use <code class="docutils literal notranslate"><span class="pre">localhost</span></code> (case-sensitive).</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="Port = INTEGER">
<span class="sig-name descname"><span class="pre">Port</span> <span class="pre">=</span> <span class="pre">INTEGER</span></span><a class="headerlink" href="#Port = INTEGER" title="Permalink to this definition">¶</a></dt>
<dd><p>The port number to connect to on the node. The default is
empty, meaning that the connection will be made to the default
SSH port (22).</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="UserName = USER_NAME">
<span class="sig-name descname"><span class="pre">UserName</span> <span class="pre">=</span> <span class="pre">USER_NAME</span></span><a class="headerlink" href="#UserName = USER_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The username used to log into a remote system. Required for
remote runs on all platforms.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="Password = PASSWORD">
<span class="sig-name descname"><span class="pre">Password</span> <span class="pre">=</span> <span class="pre">PASSWORD</span></span><a class="headerlink" href="#Password = PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd><p>The password used to log into the remote system. Required for
remote runs originating from Windows.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="RemoteDrive = DRIVE_NAME">
<span class="sig-name descname"><span class="pre">RemoteDrive</span> <span class="pre">=</span> <span class="pre">DRIVE_NAME</span></span><a class="headerlink" href="#RemoteDrive = DRIVE_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The drive to be used for remote computation. Required for
remote runs originating from Windows.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="RemoteDirectory = PATH">
<span class="sig-name descname"><span class="pre">RemoteDirectory</span> <span class="pre">=</span> <span class="pre">PATH</span></span><a class="headerlink" href="#RemoteDirectory = PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>The directory to be used for remote computation. Required for
remote runs on all platforms.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="DynarePath = PATH">
<span class="sig-name descname"><span class="pre">DynarePath</span> <span class="pre">=</span> <span class="pre">PATH</span></span><a class="headerlink" href="#DynarePath = PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the matlab subdirectory within the Dynare
installation directory. The default is the empty string.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="MatlabOctavePath = PATH_AND_FILE">
<span class="sig-name descname"><span class="pre">MatlabOctavePath</span> <span class="pre">=</span> <span class="pre">PATH_AND_FILE</span></span><a class="headerlink" href="#MatlabOctavePath = PATH_AND_FILE" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the MATLAB or Octave executable. The default value
is <code class="docutils literal notranslate"><span class="pre">matlab</span></code> as MATLAB’s executable is typically in the %PATH% environment
variable. When using full paths on Windows, you may need to enclose the path
in quoted strings, e.g. <code class="docutils literal notranslate"><span class="pre">MatlabOctavePath=&quot;C:\Program</span> <span class="pre">Files\MATLAB\R2023b\bin\matlab.exe&quot;</span></code></p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="NumberOfThreadsPerJob = INTEGER">
<span class="sig-name descname"><span class="pre">NumberOfThreadsPerJob</span> <span class="pre">=</span> <span class="pre">INTEGER</span></span><a class="headerlink" href="#NumberOfThreadsPerJob = INTEGER" title="Permalink to this definition">¶</a></dt>
<dd><p>This option controls the distribution of jobs (e.g. MCMC chains) across additional MATLAB instances that are run in parallel.
Needs to be an exact divisor of the number of cores.
The formula <a class="reference internal" href="#CPUnbr = INTEGER | [INTEGER:INTEGER]" title="CPUnbr = INTEGER | [INTEGER:INTEGER]"><code class="xref dynare dynare-opt docutils literal notranslate"><span class="pre">CPUnbr</span></code></a> divided by <a class="reference internal" href="#NumberOfThreadsPerJob = INTEGER" title="NumberOfThreadsPerJob = INTEGER"><code class="xref dynare dynare-opt docutils literal notranslate"><span class="pre">NumberOfThreadsPerJob</span></code></a>
calculates the number of MATLAB/Octave instances that will be launched in parallel,
where each instance will then execute a certain number of jobs sequentially.
For example, if you run a MCMC estimation with 24 chains on a 12 core machine, setting <code class="docutils literal notranslate"><span class="pre">CPUnbr</span> <span class="pre">=</span> <span class="pre">12</span></code> and <code class="docutils literal notranslate"><span class="pre">NumberOfThreadsPerJob</span> <span class="pre">=</span> <span class="pre">4</span></code>
will launch 3 MATLAB instances in parallel, each of which will compute 8 chains sequentially.
Note that this option does not dictate the number of maximum threads utilized by each MATLAB/Octave instance,
see related option <a class="reference internal" href="#SingleCompThread = BOOLEAN" title="SingleCompThread = BOOLEAN"><code class="xref dynare dynare-opt docutils literal notranslate"><span class="pre">SingleCompThread</span></code></a> for this.
Particularly for very large models, setting this option to 2 might distribute the workload in a
more efficient manner, depending on your hardware and task specifics.
It’s advisable to experiment with different values to achieve optimal performance.
The default value is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="SingleCompThread = BOOLEAN">
<span class="sig-name descname"><span class="pre">SingleCompThread</span> <span class="pre">=</span> <span class="pre">BOOLEAN</span></span><a class="headerlink" href="#SingleCompThread = BOOLEAN" title="Permalink to this definition">¶</a></dt>
<dd><p>This option allows you to enable or disable MATLAB’s native multithreading capability. When set to <code class="docutils literal notranslate"><span class="pre">true</span></code>,
the additional MATLAB instances are initiated in single thread mode utilizing the <code class="docutils literal notranslate"><span class="pre">-singleCompThread</span></code> startup option,
thereby disabling MATLAB’s native multithreading. When set to <code class="docutils literal notranslate"><span class="pre">false</span></code>, MATLAB’s native multithreading
is enabled, e.g. the actual number of threads utilized by each MATLAB instance is usually determined by the number of CPU cores
(you can check this by running <code class="docutils literal notranslate"><span class="pre">maxNumCompThreads</span></code> in MATLAB’s command window).
Note: While MATLAB aims to accelerate calculations by distributing them across your computer’s threads,
certain tasks, like MCMC estimations, may exhibit slowdowns with MATLAB’s multitasking especially when Dynare’s parallel computing is turned on
as we do not use MATLAB’s parallel toolbox.
So in many cases it is advisable to set this setting to <code class="docutils literal notranslate"><span class="pre">true</span></code>.
If you want to have more control, you can manually add the MATLAB command <cite>maxNumCompThreads(N)</cite> at the beginning of <cite>fParallel.m</cite>.
The default value is <code class="docutils literal notranslate"><span class="pre">false</span></code>. This option is ineffective under Octave.</p>
</dd></dl>

<dl class="dynare option">
<dt class="sig sig-object dynare" id="OperatingSystem = OPERATING_SYSTEM">
<span class="sig-name descname"><span class="pre">OperatingSystem</span> <span class="pre">=</span> <span class="pre">OPERATING_SYSTEM</span></span><a class="headerlink" href="#OperatingSystem = OPERATING_SYSTEM" title="Permalink to this definition">¶</a></dt>
<dd><p>The operating system associated with a node. Only necessary
when creating a cluster with nodes from different operating
systems. Possible values are <code class="docutils literal notranslate"><span class="pre">unix</span></code> or <code class="docutils literal notranslate"><span class="pre">windows</span></code>. There is
no default value.</p>
</dd></dl>

<p><em>Example</em></p>
<blockquote>
<div><div class="highlight-dynare notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="kr">node</span><span class="p">]</span>
<span class="n">Name </span><span class="p">= </span><span class="n">n</span><span class="mi">1</span>
<span class="n">ComputerName </span><span class="p">= </span><span class="n">localhost</span>
<span class="n">CPUnbr </span><span class="p">= </span><span class="mi">1</span>

<span class="p">[</span><span class="kr">node</span><span class="p">]</span>
<span class="n">Name </span><span class="p">= </span><span class="n">n</span><span class="mi">2</span>
<span class="n">ComputerName </span><span class="p">= </span><span class="n">dynserv</span><span class="p">.</span><span class="n">cepremap</span><span class="p">.</span><span class="n">org</span>
<span class="n">CPUnbr </span><span class="p">= </span><span class="mi">5</span>
<span class="n">UserName </span><span class="p">= </span><span class="n">usern</span>
<span class="n">RemoteDirectory </span><span class="p">= </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">usern</span><span class="o">/</span><span class="n">Remote</span>
<span class="n">DynarePath </span><span class="p">= </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">usern</span><span class="o">/</span><span class="ni">dynare</span><span class="o">/</span><span class="n">matlab</span>
<span class="n">MatlabOctavePath </span><span class="p">= </span><span class="n">matlab</span>

<span class="p">[</span><span class="kr">node</span><span class="p">]</span>
<span class="n">Name </span><span class="p">= </span><span class="n">n</span><span class="mi">3</span>
<span class="n">ComputerName </span><span class="p">= </span><span class="n">dynserv</span><span class="p">.</span><span class="ni">dynare</span><span class="p">.</span><span class="n">org</span>
<span class="n">Port </span><span class="p">= </span><span class="mi">3333</span>
<span class="n">CPUnbr </span><span class="p">= [</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<span class="n">UserName </span><span class="p">= </span><span class="n">usern</span>
<span class="n">RemoteDirectory </span><span class="p">= </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">usern</span><span class="o">/</span><span class="n">Remote</span>
<span class="n">DynarePath </span><span class="p">= </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">usern</span><span class="o">/</span><span class="ni">dynare</span><span class="o">/</span><span class="n">matlab</span>
<span class="n">MatlabOctavePath </span><span class="p">= </span><span class="n">matlab</span>
</pre></div>
</div>
</div></blockquote>
</dd></dl>

</section>
<section id="windows-step-by-step-guide">
<span id="win-ssg"></span><h2><span class="section-number">5.3. </span>Windows Step-by-Step Guide<a class="headerlink" href="#windows-step-by-step-guide" title="Permalink to this heading">¶</a></h2>
<p>This section outlines the steps necessary on most Windows systems to
set up Dynare for parallel execution. Note that the steps 3 to 6 are
required unless parallel execution is confined to a local pool
with the <code class="docutils literal notranslate"><span class="pre">parallel_use_psexec=false</span></code> option.</p>
<blockquote>
<div><ol class="arabic">
<li><p>Write a configuration file containing the options you want. A
mimimum working example setting up a cluster consisting of two
local CPU cores that allows for e.g. running two Monte Carlo
Markov Chains in parallel is shown below.</p></li>
<li><p>Save the configuration file somwhere. The name and file ending
do not matter if you are providing it with the <code class="docutils literal notranslate"><span class="pre">conffile</span></code>
command line option. The only restrictions are that the path
must be a valid filename, not contain non-alpha-numeric
characters, and not contain any whitespaces. For the
configuration file to be accessible without providing an
explicit path at the command line, you must save it under the
name <code class="docutils literal notranslate"><span class="pre">dynare.ini</span></code> into your user account’s <code class="docutils literal notranslate"><span class="pre">Application</span>
<span class="pre">Data</span></code> folder.</p></li>
<li><p>Install <a class="reference external" href="https://technet.microsoft.com/sysinternals/pstools.aspx">PSTools</a> to your system, e.g. into <code class="docutils literal notranslate"><span class="pre">C:\PSTools.</span></code></p></li>
<li><p>Set the Windows System Path to the <code class="docutils literal notranslate"><span class="pre">PSTools</span></code> folder
(e.g. using something along the line of pressing Windows
Key+Pause to open the System Configuration, then go to Advanced
-&gt; Environment Variables -&gt; Path).</p></li>
<li><p>Restart your computer to make the path change effective.</p></li>
<li><p>Open MATLAB and type into the command window:</p>
<div class="highlight-dynare notranslate"><div class="highlight"><pre><span></span><span class="o">!</span><span class="n">psexec</span>
</pre></div>
</div>
<p>This executes the <code class="docutils literal notranslate"><span class="pre">psexec.exe</span></code> from PSTools on your system
and shows whether Dynare will be able to locate it. If MATLAB
complains at this stage, you did not correctly set your Windows
system path for the <code class="docutils literal notranslate"><span class="pre">PSTools</span></code> folder.</p>
</li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">psexec.exe</span></code> was located in the previous step, a popup
will show up, asking for confirmation of the license
agreement. Confirm this copyright notice of <code class="docutils literal notranslate"><span class="pre">psexec</span></code> (this
needs to be done only once). After this, Dynare should be ready
for parallel execution.</p></li>
<li><p>Call Dynare on your mod-file invoking the <code class="docutils literal notranslate"><span class="pre">parallel</span></code> option
and providing the path to your configuration file with the
<code class="docutils literal notranslate"><span class="pre">conffile</span></code> option (if you did not save it as
<code class="docutils literal notranslate"><span class="pre">%APPDATA%\dynare.ini</span></code> in step 2 where it should be detected
automatically):</p>
<div class="highlight-dynare notranslate"><div class="highlight"><pre><span></span><span class="ni">dynare </span><span class="n">ls</span><span class="mi">2003 </span><span class="n">parallel conffile</span><span class="p">=</span><span class="s">&#39;C:\Users\Dynare~1\parallel\conf_file.ini&#39;</span>
</pre></div>
</div>
</li>
</ol>
<p>Please keep in mind that no white spaces or names longer than 8
characters are allowed in the <code class="docutils literal notranslate"><span class="pre">conffile</span></code> path. The 8-character
restriction can be circumvented by using the tilde Windows path
notation as in the above example.</p>
</div></blockquote>
<p><em>Example</em>:</p>
<div class="highlight-dynare notranslate"><div class="highlight"><pre><span></span><span class="p">#</span><span class="kr">cluster </span><span class="n">needs to always be defined first</span>
<span class="p">[</span><span class="kr">cluster</span><span class="p">]</span>
<span class="p">#</span><span class="n">Provide a name for the </span><span class="kr">cluster</span>
<span class="n">Name</span><span class="p">=</span><span class="n">Local</span>
<span class="p">#</span><span class="n">declare the nodes being member of the </span><span class="kr">cluster</span>
<span class="n">Members</span><span class="p">=</span><span class="n">n</span><span class="mi">1</span>

<span class="p">#</span><span class="n">declare nodes </span><span class="p">(</span><span class="n">they need not all be part of a </span><span class="kr">cluster</span><span class="p">)</span>
<span class="p">[</span><span class="kr">node</span><span class="p">]</span>
<span class="p">#</span><span class="n">name of the </span><span class="kr">node</span>
<span class="n">Name</span><span class="p">=</span><span class="n">n</span><span class="mi">1</span>
<span class="p">#</span><span class="n">name of the computer </span><span class="p">(</span><span class="n">localhost for the current machine</span><span class="p">)</span>
<span class="n">ComputerName</span><span class="p">=</span><span class="n">localhost</span>
<span class="p">#</span><span class="n">cores to be included from this </span><span class="kr">node</span>
<span class="n">CPUnbr</span><span class="p">=[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
<span class="p">#</span><span class="n">path to matlab</span><span class="p">.</span><span class="n">exe</span><span class="p">; </span><span class="n">on Windows</span><span class="p">, </span><span class="n">the MATLAB bin folder is in the system path</span>
<span class="p">#</span><span class="n">so we only need to provide the name of the exe file</span>
<span class="n">MatlabOctavePath</span><span class="p">=</span><span class="n">matlab</span>
<span class="p">#</span><span class="n">Dynare path you are using</span>
<span class="n">DynarePath</span><span class="p">=</span><span class="n">C</span><span class="p">:</span><span class="o">/</span><span class="ni">dynare</span><span class="o">/</span><span class="mf">4.7.0</span><span class="o">/</span><span class="n">matlab</span>
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;1996–2024 Dynare Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/the-configuration-file.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>